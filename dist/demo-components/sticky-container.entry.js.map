{"file":"sticky-container.entry.esm.js","mappings":";;AAAA,MAAM,kBAAkB,GAAG,mJAAmJ;;MCMjK,eAAe;;;qBACT,KAAK;;IAKtB,gBAAgB;QACd,IAAI,CAAC,QAAQ,GAAG,IAAI,oBAAoB,CACtC,CAAC,CAAC,CAAC,CAAC;YACF,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,iBAAiB,GAAG,CAAC,CAAC;SACtC,EACD;YACE,SAAS,EAAE,CAAC;SACb,CACF,CAAC;QAEF,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SAC9C;KACF;IAED,oBAAoB;QAClB,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;SAChD;KACF;IAED,MAAM;QACJ,QACE,EAAC,IAAI,qDACH,GAAG,EAAE,CAAC,EAAE,MAAM,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC,EACzC,KAAK,EAAE;gBACL,kBAAkB,EAAE,IAAI;gBACxB,yBAAyB,EAAE,IAAI,CAAC,KAAK;aACtC,IAED,8DAAQ,CACH,EACP;KACH;;;;;;","names":[],"sources":["src/components/sticky-container.scss?tag=sticky-container","src/components/sticky-container.tsx"],"sourcesContent":[".sticky-container {\n  position: sticky;\n  display: block;\n  bottom: -1px; // Required for the intersection observer to work\n  margin-bottom: 1px;\n\n  &--stuck {\n    box-shadow: 0 -8px 20px rgba(0, 0, 0, 0.1);\n  }\n}\n","import { Component, Host, h, State } from '@stencil/core';\n\n@Component({\n  tag: 'sticky-container',\n  styleUrl: 'sticky-container.scss',\n})\nexport class StickyContainer {\n  @State() stuck = false;\n\n  private containerElement?: HTMLElement;\n  private observer: IntersectionObserver;\n\n  componentDidLoad() {\n    this.observer = new IntersectionObserver(\n      ([e]) => {\n        this.stuck = e.intersectionRatio < 1;\n      },\n      {\n        threshold: 1,\n      }\n    );\n\n    if (this.containerElement) {\n      this.observer.observe(this.containerElement);\n    }\n  }\n\n  disconnectedCallback() {\n    if (this.containerElement) {\n      this.observer.unobserve(this.containerElement);\n    }\n  }\n\n  render() {\n    return (\n      <Host\n        ref={(el) => (this.containerElement = el)}\n        class={{\n          'sticky-container': true,\n          'sticky-container--stuck': this.stuck,\n        }}\n      >\n        <slot />\n      </Host>\n    );\n  }\n}\n"],"version":3}